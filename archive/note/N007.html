<!DOCTYPE html>
<html lang="zh-CN">
<head>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="keywords" content="Brant丨脑图丨Map丨应用丨App丨笔记丨Note丨前端丨Front-end" />
	<meta name="description" content="前端技术的学习笔记，互联网书籍的思维导图，移动应用的测评文章" />
	
	<title>N007 正则表达式的18条入门匹配规则</title>                                                                                              <!--change title first-->

	<!--main css-->
	<link type="text/css" rel="stylesheet" href="../../style/main.css" />
	<link type="text/css" rel="stylesheet" href="../../style/table.css" media="screen" />																  

	<!--media query css-->	
	<link type="text/css" rel="stylesheet" href="../../style/media-query.css" />

	<!--highlight css-->
	<link type="text/css" rel="stylesheet" href="../../style/github.css" />

	<!--favicon generator-->
	<meta name="theme-color" content="#ffffff"/>
	<meta name="msapplication-TileColor" content="#00aba9"/>
	<meta name="msapplication-TileImage" content="/mstile-144x144.png"/>
	<link rel="manifest" href="favicons/manifest.json"/>
	<link rel="apple-touch-icon" sizes="57x57" href="../../favicons/apple-touch-icon-57x57.png"/>
	<link rel="apple-touch-icon" sizes="60x60" href="../../favicons/apple-touch-icon-60x60.png"/>
	<link rel="apple-touch-icon" sizes="72x72" href="../../favicons/apple-touch-icon-72x72.png"/>
	<link rel="apple-touch-icon" sizes="76x76" href="../../favicons/apple-touch-icon-76x76.png"/>
	<link rel="apple-touch-icon" sizes="114x114" href="../../favicons/apple-touch-icon-114x114.png"/>
	<link rel="apple-touch-icon" sizes="120x120" href="../../favicons/apple-touch-icon-120x120.png"/>
	<link rel="apple-touch-icon" sizes="144x144" href="../../favicons/apple-touch-icon-144x144.png"/>
	<link rel="apple-touch-icon" sizes="152x152" href="../../favicons/apple-touch-icon-152x152.png"/>
	<link rel="apple-touch-icon" sizes="180x180" href="../../favicons/apple-touch-icon-180x180.png"/>
	<link rel="icon" type="image/png" href="../../favicons/favicon-16x16.png" sizes="16x16"/>
	<link rel="icon" type="image/png" href="../../favicons/favicon-32x32.png" sizes="32x32"/>
	<link rel="icon" type="image/png" href="../../favicons/favicon-96x96.png" sizes="96x96"/>
	<link rel="icon" type="image/png" href="../../favicons/android-chrome-192x192.png" sizes="192x192"/>	

	<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!--[if lt IE 9]>
		<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
	<![endif]-->

</head>

<body>
<div id="pagewrap">

	<header id="header">

		<hgroup>
			<h1 id="site-logo"><a href="http://brant.cc" tip="想回首页？点我~"><img src="../../picture/logos/chopper.png" alt=""></a></h1>
			<!--<h6 id="site-description">Not perfect, but unique.</h6>-->
		</hgroup>

		<nav>
			<ul id="main-nav" class="clearfix">
				<li><a href="http://brant.cc/archive/">Archive</a></li>
				<li><a href="http://brant.cc/#Lab">Lab</a></li>
			</ul>
		</nav>

		<form id="search-form">
			<input type="search" id="search" placeholder="Search">
		</form>

	</header>

	<div id="content">
		<article class="post clearfix">                                                                                                   <!--add article second-->      
			
			<header>
				<h3 class="post-title">N007 正则表达式的18条入门匹配规则</h3>
			</header>

			<hr /><br />

			<p>如果要评选IT技能里面最让人头疼的东西，正则表达式一定会榜上有名。想要精通反人类的正则表达式的确很难，但其实掌握少量常用的规则就能应对大量的使用场景了。以下是我认为最重要的18条匹配规则：</p>

			<h4>位置规则（3个）</h4>
			<div class="table-wrap">
			<table>
				<tr class="thead">
					<th>匹配符</th>
					<th>用法</th>
				</tr>
				<tr class="odd">
					<td>\b</td>
					<td>单词的开始或结束</td>
				</tr >
				<tr class="even">
					<td>^</td>
					<td>字符串的开始</td>
				</tr>
				<tr class="odd">
					<td>$</td>
					<td>字符串的结束</td>
				</tr>
			</table>
			</div>
			<br />
			<p>注：用两个<code>\b</code>包裹<abbr title="多个连续的\w">单词</abbr>可以匹配单词；用<code>^</code>和<code>$</code>包裹字符串可以匹配字符串。</p>

			<h4>特殊规则（4个）</h4>
			<div class="table-wrap">
			<table>
				<tr class="thead">
					<th>匹配符</th>
					<th>用法</th>
				</tr>
				<tr class="odd">
					<td>\</td>
					<td>转义字符</td>
				</tr >
				<tr class="even">
					<td>|</td>
					<td>规则分支</td>
				</tr>
				<tr class="odd">
					<td>()</td>
					<td>规则分组</td>
				</tr>
				<tr class="even">
					<td>\n</td>
					<td>对分组后向引用</td>
				</tr>
			</table>
			</div>
			<br />
			<p>注：转义字符作用于后侧字符；规则分支优先匹配前侧规则。</p>

			<h4>单个字符（5个）</h4>
			<div class="table-wrap">
			<table>
				<tr class="thead">
					<th>匹配符</th>
					<th>用法</th>
				</tr>
				<tr class="odd">
					<td>\d</td>
					<td>数字字符</td>
				</tr >
				<tr class="even">
					<td>\s</td>
					<td>空白字符</td>
				</tr>
				<tr class="odd">
					<td>\w</td>
					<td>字母/数字/汉字/下划线</td>
				</tr>
				<tr class="even">
					<td>.</td>
					<td>任意的非换行字符</td>
				</tr>
				<tr class="odd">
					<td>[]</td>
					<td>指定范围的字符</td>
				</tr>
			</table>
			</div>
			<br />
			<p>注：空白字符包括空格、换行等；<code>[]</code>中的具体项或范围不需要转义。</p>

			<h4>重复次数（6个）</h4>
			<div class="table-wrap">
			<table>
				<tr class="thead">
					<th>匹配符</th>
					<th>用法</th>
				</tr>
				<tr class="odd">
					<td>*</td>
					<td>重复0次以上</td>
				</tr >
				<tr class="even">
					<td>+</td>
					<td>重复1次以上</td>
				</tr>
				<tr class="odd">
					<td>?</td>
					<td>重复0次或1次</td>
				</tr>
				<tr class="even">
					<td>{n}</td>
					<td>重复n次</td>
				</tr>
				<tr class="odd">
					<td>{n,}</td>
					<td>重复n次以上</td>
				</tr>
				<tr class="even">
					<td>{n,m}</td>
					<td>重复n至m次</td>
				</tr>
			</table>
			</div>
			<br />
			<p>注：可以将<code>?</code>理解为有或无；所有的重复匹配符都是作用于前侧字符。</p>

			<h4>简单的使用实例</h4>
			<p>这里有一个挺不错的<a class="external" href="http://regexpal.com/" target="_blank" title="regexpal">JavaScript正则表达式在线测试工具</a>可以拿去用。给乏味的匹配符作如上分组归类就是为了方便复习，但有些例子可能会更好理解：</p>
			<h5>实例1：匹配QQ号码</h5>
			<p>首先需要分析QQ号码的特征。一个QQ号至少是5位的，每一位都是0-9的数字，貌似通过<code>\d{5,}</code>就可以解决问题。但不要忘了，第一位不能是0，所以修正为<code>[1-9]\d{4,}</code>才能正确匹配。</p>
			<h5>实例2：匹配身份证号</h5>
			<P>新的身份证位数都是18位的，但据说以前是15位的，后3位通过?即可实现有无。另一个值得注意的是，18位身份证的最后一位可以是x/X，这样<code>\d{15}(\d\d[0-9xX])?</code>就能实现匹配了。</P>
			<h5>实例3：匹配HTML元素</h5>
			<p>元素包括标签、属性和内容，而空元素又是在开始标签就闭合的。如果是非空元素，需要保证开始标签和结束标签的标签类型是相同的，这需要通过分组和后向引用来实现。非空元素和空元素可以分开写，分别是<code>&lt;(.*).*&gt;.*&lt;\/\1&gt;</code>和<code>&lt;.*\/&gt;</code>两部分，二者之间由|连接即可。值得注意的是，由于前者需要保证标签类型一致，需要使用2次.*分别代表标签类型和属性；而后者则可以只使用一次来统一匹配标签类型和属性。</p>	
			<p>以上便是正则表达式的入门规则与应用。每次用到时拎出来复习强化，并随时学习其他额外的规则，没准这个反人类的东西就能被驾驭了。</p>		

			<h4>参考文章</h4>
			<div id="refer">
				<ol>
					<li>deerchao， <a class="external" href="http://deerchao.net/tutorials/regex/regex.htm" target="_blank" title="阮一峰的博客">正则表达式30分钟入门教程</a></li>
				</ol>
			</div>

			<h3 id="Comment">评论</h3>

			<!--start Disqus loading-->
			<div id="disqus_thread"></div>
			<script type="text/javascript">
    			/* * * CONFIGURATION VARIABLES * * */
    			var disqus_shortname = '7brant';
    
   				 /* * * DON'T EDIT BELOW THIS LINE * * */
    			(function() {
       				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        			dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    			})();
			</script>
			<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
			<!--end Disqus loading-->

		</article>
	</div>
	<!--end content--> 
	
	
	<aside id="sidebar">

		<section class="widget">
			<h4 class="widget-title">Profile</h4>
			<ul>
				<li>自述：马致远，前端开发攻城狮</li>
				<li>标签：<code>海贼控</code><code>苏打粉</code><code>射手座</code></li>
			</ul>
			<figure class="center">
				<img src="../../picture/logos/QRcode.jpg" title="微信二维码" alt="QRcode">
			</figure>
			<ul>
				<li>微信联系：扫码/搜索Brant-mzy</li>
				<li>邮件联系：<a href="mailto:admin@brant.cc">admin@brant.cc</a></li>
				<li>微博联系：<a href="http://weibo.com/brantma" target="_blank">橡皮擦爱吃鱼香茄子</a></li>	
			</ul>
		</section>
		
		<section class="widget clearfix">
			<h4 class="widget-title">Books Wanted</h4>
			<div class="center table-wrap">
				<script type="text/javascript" src="http://www.douban.com/service/badge/44394014/?selection=latest&amp;picsize=small&amp;hideself=on&amp;show=wishlist&amp;n=9&amp;hidelogo=on&amp;cat=book&amp;columns=3"></script>
			</div>	
		</section>
								
	</aside>
	<!--end sidebar-->

	<div id="backtotop"><a href="#" title="回到顶部"></a></div>
	<!--end back to top-->

	<footer id="footer">
		<p>&copy; 2015 Brant <a href="http://www.miitbeian.gov.cn/" target="_blank"> 豫ICP备15007162号 </a> <br />本站点所有作品采用 <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Creative Commons">知识共享 署名-非商业性使用-相同方式共享 4.0 国际许可协议</a> 进行许可</p>
	</footer>	
	
</div>
<!--end pagewrap-->

<!--start js-->

	<!--start Disqus comment count-->
	<script type="text/javascript">
    	/* * * CONFIGURATION VARIABLES * * */
    	var disqus_shortname = '7brant';
    
    	/* * * DON'T EDIT BELOW THIS LINE * * */
    	(function () {
        	var s = document.createElement('script'); s.async = true;
        	s.type = 'text/javascript';
        	s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        	(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    	}());
	</script>
	<!--end Disqus comment count-->

	<!--start highlight-->
	<script src="../../script/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<!--end highlight-->

	<script type="text/javascript" src="../../script/wheel.js"></script>
	
<!--end js-->

</body>
</html>